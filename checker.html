<style>
    .checkboxes {
        width: 50%;
        display: flex;
        flex-wrap: wrap;
    }

    .checkbox {
        display: inline-block;
        width: 7%;
    }
</style>

<div id="app">
    <div>装着する部位を選択　現在選択されている歯: {{ pos+""+num }}</div>

    <select v-model="pos">
        <option disabled value="">装着する部位</option>
        <option value=1>右上</option>
        <option value=2>左上</option>
        <option value=3>左下</option>
        <option value=4>右下</option>
    </select>
    <select v-model="num">
        <option diabled value=""> 歯番</option>
        <option>1</option>
        <option>2</option>
        <option>3</option>
        <option>4</option>
        <option>5</option>
        <option>6</option>
        <option>7</option>

        <div>

            残存歯：欠損歯はチェックを外す
        </div>
        <div class="checkboxes">
            <div v-for="(item, index) in tooth_numbers" :key="index" class="checkbox">
                <input type="checkbox" v-model="checked[index]" />
                <label>{{ item }}</label>
            </div>
        </div>
        <button v-on:click="check">check</button>
        <h1>{{ result }}</h1>
</div>


<script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
<script>
    new Vue({
        el: '#app',
        data: {
            pos: 1,
            num: 6,
            tooth_numbers: ["17", "16", "15", "14", "13", "12", "11",
                "21", "22", "23", "24", "25", "26", "27",
                "47", "46", "45", "44", "43", "42", "41",
                "31", "32", "33", "34", "35", "36", "37"],
            checked: [true, true, true, true, true, true, true,
                true, true, true, true, true, true, true,
                true, true, true, true, true, true, true,
                true, true, true, true, true, true, true,
            ],
            result: "ここに結果が表示されます"
        },
        methods: {
            check: function () {

                if (num <= 3) {
                    this.result = "CAD/CAM冠（Ⅳ）";
                    return
                } else if (num <= 5) {
                    this.result = "CAD/CAM冠(Ⅰ)またはCAD/CAM冠(Ⅱ)";
                    return
                } else {
                    let other_pos = pos + (-1) ** (pos + 1); //左右の反対側
                    let opp_pos = pos + (-1) ** (pos > 2) * 2; //対合
                    let diag_pos = opp_pos + (-1) ** opp_pos; //反対側の対合
                    let is_checked = (pos, num) => { checked[this.tooth_numbers.findIndex(ind => ind == pos + "" + num)] };
                    // 反対側の大臼歯咬合支持が無いならfalse
                    if (!((is_checked(other_pos, 6) && is_checked(diag_pos, 6)) ||
                        (is_checked(other_pos, 7) && is_checked(diag_pos, 7)))) {
                        this.result = "反対側の咬合支持がありませんPEEKは行けるよ";
                        console.log(other_pos, opp_pos.diga_pos, is_checked(diag_pos, 6),
                            is_checked(other_pos, 7), is_checked(diag_pos, 7))
                        return
                    }
                    else if (true) {
                        return "CAD/CAM冠(Ⅲ)"
                    }
                    else {
                        return false
                    }
                }
            }
        }
    });
</script>